buildscript {
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath 'de.huxhorn.gradle:de.huxhorn.gradle.pgp-plugin:0.0.3'
	}
}

subprojects {
  apply plugin: 'java'
  apply plugin: 'maven'
  apply plugin: 'sign'
  apply plugin: de.huxhorn.gradle.pgp.PgpPlugin

  group = 'com.github.insubstantial'
  version = '6.3-SNAPSHOT'
  versionKey = "6.3-defender"
  release = "internal"
  timeStamp = new Date().format("MMMM d, yyyy HH:mm:ss z")

  sourceCompatibility = 1.6
  targetCompatibility = 1.6

  repositories {
    mavenRepo name: 'sonatype staging', urls: 'https://oss.sonatype.org/content/groups/staging'
    mavenCentral()
    mavenRepo urls: new File(System.getProperty('user.home'), '.m2/repository').toURI().toString()
  }

  task sourceJar(type: Jar) {
    from sourceSets.main.java
    from sourceSets.main.resources
    classifier = 'sources'
  }

  task javadocJar(type: Jar) {
    dependsOn javadoc
    from javadoc.destinationDir
    classifier = 'javadoc'
  }

  artifacts {
    archives sourceJar
    archives javadocJar
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '1.0-milestone-2'
}

